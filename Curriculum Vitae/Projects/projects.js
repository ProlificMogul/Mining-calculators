const projects = [
  {
    id: 1,
    category: "work",
    title: "Decommissioning of Peak Mine",
    description:
      "Assisted in the decommissioning process of Peak Mine, ensuring environmental compliance and safety standards.",
    tags: ["Mine Closure", "Environmental", "Project Management"],
    fullDescription: `
              <div class="modal-section">
                  <h3 class="modal-section-title">Project Overview</h3>
                  <p>Assisted the comprehensive decommissioning plan of Peak Mine after the completion of mining operations. This project involved coordinating multiple teams to ensure all environmental compliance requirements were met while maintaining the highest safety standards throughout the closure process.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Challenges & Solutions</h3>
                  <p>The main challenges included managing hazardous materials disposal, rehabilitating the mining site to meet environmental standards, and ensuring all documentation was properly completed for regulatory compliance. Our team implemented innovative approaches to soil remediation and developed a comprehensive closure plan that satisfied all stakeholders.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Outcomes</h3>
                  <ul>
                      <li>Completed the decommissioning plan 15% ahead of schedule</li>
                      <li>Achieved 100% compliance with environmental regulations</li>
                      <li>Successful rehabilitation plan for over 80 hectares of mining land</li>
                      <li>Implemented sustainable land use plans for the post-mining landscape</li>
                  </ul>
              </div>
          `,
  },
  {
    id: 2,
    category: "work",
    title: "Shaft Sinking Ngezi 3 Portal",
    description:
      "Took part in the decline development project at Ngezi 3 portal, implementing efficient mining practices.",
    tags: ["Underground Mining", "Project Management", "Technical Planning"],
    fullDescription: `
              <div class="modal-section">
                  <h3 class="modal-section-title">Project Overview</h3>
                  <p>Took part in the decline development project at Ngezi 3 portal. This critical infrastructure project was designed to provide access to new ore bodies and expand the mine's production capacity.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Technical Approach</h3>
                  <p>Implemented innovative drilling and blasting techniques to improve advance rates while maintaining strict safety protocols. Coordinated with geotechnical engineers to ensure proper ground support design and installation throughout the decline development.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Results</h3>
                  <ul>
                      <li>Completed 400 meters of decline development</li>
                      <li>Achieved an average advance rate of 1.5 meters per day, exceeding targets by 3%</li>
                      <li>Maintained an excellent safety record throughout the project</li>
                      <li>Implemented efficient ventilation and dewatering systems</li>
                  </ul>
              </div>
          `,
  },
  {
    id: 3,
    category: "work",
    title: "Ventilation System Optimization - RB Mine",
    description:
      "Identified and resolved ventilation leaks, improving air quality and reducing operational costs.",
    tags: ["Ventilation", "Safety", "Optimization"],
    fullDescription: `
              <div class="modal-section">
                  <h3 class="modal-section-title">Project Overview</h3>
                  <p>Carried out a comprehensive ventilation system optimization project at Railway Block Mine to improve air quality, reduce energy consumption, and enhance overall mine safety. This initiative involved detailed analysis of the existing ventilation network and implementation of targeted improvements.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Methodology</h3>
                  <p>Conducted extensive ventilation surveys using tracer gas techniques to identify leakage points and inefficiencies in the ventilation system. Developed and implemented a phased improvement plan that included sealing ventilation controls, upgrading main fans, and reconfiguring airflow patterns to optimize distribution.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Impact</h3>
                  <ul>
                      <li>Reduced ventilation leakage by 25%, significantly improving air quality in working areas</li>
                      <li>Decreased energy consumption by 14%, resulting in annual cost savings of approximately $80,000</li>
                      <li>Improved compliance with regulatory air quality standards</li>
                      <li>Enhanced overall mine safety by ensuring adequate fresh air delivery to all active mining areas</li>
                  </ul>
              </div>
          `,
  },
  {
    id: 4,
    category: "work",
    title: "Chromite Fines Wash Plants",
    description:
      "Partook in the implementation of wash plants for processing chromite fines.",
    tags: ["Mineral Processing", "Plant Operations", "Efficiency"],
    fullDescription: `
              <div class="modal-section">
                  <h3 class="modal-section-title">Project Overview</h3>
                  <p>Assisted in the design, construction, and commissioning of wash plants specifically engineered for processing chromite fines that were previously considered waste material. This project aimed to increase resource recovery and create additional revenue streams.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Technical Details</h3>
                  <p>The wash plants incorporated innovative spiral concentrators and hydrocyclone technology to efficiently separate and recover chromite from waste material. Designed water recycling systems to minimize environmental impact and reduce operational costs.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Accomplishments</h3>
                  <ul>
                      <li>Successfully recovered chromite fines with grades averaging 42% Cr₂O₃</li>
                      <li>Processed approximately 25,000 tonnes of previously stockpiled waste material monthly</li>
                      <li>Generated additional annual revenue of $2.2 million</li>
                      <li>Achieved water recycling rate of 81%, significantly reducing fresh water consumption</li>
                  </ul>
              </div>
          `,
  },
  {
    id: 5,
    category: "work",
    title: "Drives Development - 7 Body RB Mine",
    description:
      "Played a role in the development of mining drives, ensuring optimal extraction paths.",
    tags: ["Underground Development", "Planning", "Execution"],
    fullDescription: `
              <div class="modal-section">
                  <h3 class="modal-section-title">Project Overview</h3>
                  <p>Played a role in the development of critical mining drives at the G-Body orebody within Railway Block Mine. This project focused on creating optimal extraction paths to access high-grade ore zones while maintaining geotechnical stability and operational efficiency.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Strategic Approach</h3>
                  <p>Implemented a comprehensive planning process that integrated geological data, geotechnical considerations, and production requirements to optimize drive layouts. Utilized advanced survey techniques and 3D modeling to guide accurate drive development according to design specifications.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Key Achievements</h3>
                  <ul>
                      <li>Completed over 150 meters of development drives within budget and on schedule</li>
                      <li>Maintained development accuracy within 5cm of design parameters</li>
                      <li>Implemented efficient ground support systems that reduced installation time by 15%</li>
                      <li>Established ventilation and dewatering infrastructure to support sustainable mining operations</li>
                      <li>Created access to approximately 85,000 tonnes of high-grade chromite ore</li>
                  </ul>
              </div>
          `,
  },
  {
    id: 6,
    category: "school",
    title: "Ran Mine Dewatering Solutions",
    description:
      "Developed practical methodologies for dewatering operations at Ran Mine.",
    tags: ["Dewatering", "Technical Analysis", "Research"],
    fullDescription: `
              <div class="modal-section">
                  <h3 class="modal-section-title">Research Focus</h3>
                  <p>Conducted comprehensive research on dewatering challenges at Ran Mine as part of my academic capstone project. This study aimed to develop practical, cost-effective solutions for managing groundwater inflows in underground mining operations.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Methodology</h3>
                  <p>Performed detailed hydrogeological assessment of the mine site, including aquifer characterization and groundwater modeling. Analyzed historical pumping data and conducted field tests to evaluate existing dewatering infrastructure and identify improvement opportunities.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Outcomes & Recommendations</h3>
                  <ul>
                      <li>Developed a predictive model for groundwater inflows based on mining depth and geological features</li>
                      <li>Designed an optimized pumping system that reduced energy consumption by 28%</li>
                      <li>Proposed strategic pre-drainage methods for high-inflow areas to improve mining conditions</li>
                      <li>Created a comprehensive water management plan that was adopted by mine management</li>
                  </ul>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Academic Recognition</h3>
                  <p>This project received the department's Outstanding Technical Research Award and portions were published in the university's engineering journal.</p>
              </div>
          `,
  },
  {
    id: 7,
    category: "school",
    title: "Open Pit Fleet Optimization",
    description:
      "Carried out discrete-event simulations to optimize fleet operations in open pit mining.",
    tags: ["Operations Research", "Optimization", "Analytics"],
    fullDescription: `
              <div class="modal-section">
                  <h3 class="modal-section-title">Research Objective</h3>
                  <p>Conducted advanced research on optimizing haul truck and loader fleet operations in open pit mining environments. This academic project aimed to minimize operational costs while maximizing production efficiency through mathematical modeling and simulation.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Technical Approach</h3>
                  <p>Developed sophisticated discrete-event simulation models using python to analyze fleet performance under various operational scenarios. Implemented simulation models to validate theoretical optimization and account for real-world variability factors including equipment breakdowns, weather delays, and changing pit conditions.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Key Findings</h3>
                  <ul>
                      <li>Identified optimal loader-to-truck ratios for different mining phases and haul distances</li>
                      <li>Developed dynamic dispatching algorithms that improved fleet utilization by 14%</li>
                      <li>Created maintenance scheduling models that reduced downtime while maintaining equipment reliability</li>
                      <li>Demonstrated potential cost savings of approximately $540,000 annually for a mid-sized operation</li>
                  </ul>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Applications</h3>
                  <p>The optimization methodologies developed in this research were implemented as part of a case study at a local mining operation, resulting in measurable improvements in fleet productivity and cost efficiency.</p>
              </div>
          `,
  },
  {
    id: 8,
    category: "personal",
    title: "Mining Calculators Web App",
    description:
      "Developed a comprehensive web application for mining calculations using JavaScript.",
    tags: ["JavaScript", "Web Development", "Mining Engineering"],
    fullDescription: `
              <div class="modal-section">
                  <h3 class="modal-section-title">Project Description</h3>
                  <p>Created a comprehensive web application featuring specialized calculators for various mining engineering tasks. This personal project was developed to provide mining professionals with accessible, user-friendly tools for common calculations that previously required specialized software or complex spreadsheets.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Technology Stack</h3>
                  <p>Built using modern web technologies including HTML5, CSS3, and vanilla JavaScript for the frontend. Implemented responsive design principles to ensure usability across desktop and mobile devices. Deployed on AWS for reliable hosting and performance.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Key Features</h3>
                  <ul>
                      <li>Calculator for estimating the mineral deposit value</li>
                      <li>Calculator for net present value, payback period, internal rate return.</li>
                      <li>Calculator for operating efficiency, loading production, hauling production, etc</li>
                      <li>Calculator for matching loading-hauling-dumping units, cycle times, etc</li>
                      <li>Calculator to determine if drilling resuts are low-, medium-, or high-grade ore</li>
                      <li>Calculator for airflow, pressure drop, and fan requirements for mine ventilation systems</li>
                  </ul>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Impact</h3>
                  <p>The web app has significantly saved mining engineers and students time in calculations.</p>
              </div>
          `,
  },
  {
    id: 9,
    category: "personal",
    title: "Mining Assistant AI",
    description:
      "Creating an AI-powered assistant using Python and Javascript for mining-related questions.",
    tags: ["AI", "Python", "Javascript"],
    fullDescription: `
              <div class="modal-section">
                  <h3 class="modal-section-title">Project Overview</h3>
                  <p>Developed an AI-powered assistant specifically designed to help mining engineers analyze and interpret complex mining datasets. This personal project combines my expertise in mining engineering with advanced data science techniques.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Technical Implementation</h3>
                  <p>Built using Python with extensive use of data science libraries including Pandas for data manipulation, Scikit-learn for predictive modeling, and Matplotlib/Plotly for visualization. Implemented natural language processing capabilities to allow users to query datasets using plain English commands.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Core Functionalities</h3>
                  <ul>
                      <li>Automated drill hole data analysis and visualization</li>
                      <li>Production data trend identification and anomaly detection</li>
                      <li>Equipment maintenance prediction based on operational parameters</li>
                      <li>Natural language interface for complex data queries</li>
                      <li>Custom reporting and dashboard generation</li>
                      <li>Integration capabilities with common mining software data exports</li>
                  </ul>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Future Development</h3>
                  <p>Currently expanding the system to incorporate machine learning models for predictive maintenance and resource estimation. Planning to develop an open-source version to encourage collaboration within the mining technology community.</p>
              </div>
          `,
  },
  {
    id: 10,
    category: "personal",
    title: "Blockchain Mineral Tracing",
    description:
      "Building a long-term project using blockchain technology for tracking minerals using unique orebody identifiers.",
    tags: ["Blockchain", "Supply Chain", "Innovation"],
    fullDescription: `
              <div class="modal-section">
                  <h3 class="modal-section-title">Innovation Concept</h3>
                  <p>Designed and prototyped a blockchain-based system for tracing minerals from mine to market using unique orebody identifiers. This project addresses growing demands for ethical sourcing and supply chain transparency in the minerals industry.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Technical Architecture</h3>
                  <p>Developing using Ethereum-based smart contracts for transaction verification and immutable record-keeping. Integrated IoT sensors and QR-code technology for physical tracking and verification points throughout the supply chain. To Implement a web-based interface for stakeholders to access and verify mineral origin data.</p>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Key Innovations</h3>
                  <ul>
                      <li>Geological fingerprinting methodology to create unique digital identifiers for mineral batches</li>
                      <li>Cryptographic proof-of-origin verification at each transfer point</li>
                      <li>Smart contract implementation for automated compliance verification</li>
                      <li>Consumer-facing verification portal for end-product authentication</li>
                      <li>Integration framework for existing mineral processing systems</li>
                  </ul>
              </div>
              <div class="modal-section">
                  <h3 class="modal-section-title">Potential Impact</h3>
                  <p>This technology has potential applications for conflict mineral verification, rare earth element tracing, and premium product authentication. Currently seeking industry partners for potential collaborations.</p>
              </div>
          `,
  },
];

function createProjectCard(project) {
  return `
          <div class="project-card">
              <div class="project-content">
                  <h3 class="project-title">${project.title}</h3>
                  <p class="project-description">${project.description}</p>
                  <div class="project-tags">
                      ${project.tags
                        .map((tag) => `<span class="tag">${tag}</span>`)
                        .join("")}
                  </div>
                  <button class="learn-more" data-project-id="${project.id}">
                      Learn more
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="ml-1">
                          <path d="m9 18 6-6-6-6"/>
                      </svg>
                  </button>
              </div>
          </div>
      `;
}

function filterProjects(category) {
  const filteredProjects =
    category === "all"
      ? projects
      : projects.filter((project) => project.category === category);

  const projectsGrid = document.getElementById("projectsGrid");
  projectsGrid.innerHTML = filteredProjects.map(createProjectCard).join("");

  // Add event listeners to all "Learn more" buttons
  document.querySelectorAll(".learn-more").forEach((button) => {
    button.addEventListener("click", () => {
      const projectId = parseInt(button.dataset.projectId);
      openProjectModal(projectId);
    });
  });
}

function openProjectModal(projectId) {
  const project = projects.find((p) => p.id === projectId);
  if (!project) return;

  document.getElementById("modalTitle").textContent = project.title;
  document.getElementById("modalBody").innerHTML = project.fullDescription;
  document.getElementById("modalOverlay").classList.add("active");

  // Prevent scrolling of the body when modal is open
  document.body.style.overflow = "hidden";
}

function closeProjectModal() {
  document.getElementById("modalOverlay").classList.remove("active");

  // Re-enable scrolling of the body
  document.body.style.overflow = "";
}

// Initialize the page
document.addEventListener("DOMContentLoaded", () => {
  // Show all projects by default
  filterProjects("all");

  // Add event listeners to filter buttons
  document.querySelectorAll(".filter-btn").forEach((button) => {
    button.addEventListener("click", () => {
      // Remove active class from all buttons
      document.querySelectorAll(".filter-btn").forEach((btn) => {
        btn.classList.remove("active");
      });

      // Add active class to clicked button
      button.classList.add("active");

      // Filter projects
      const category = button.dataset.category;
      filterProjects(category);
    });
  });

  // Set up modal close functionality
  document
    .getElementById("modalClose")
    .addEventListener("click", closeProjectModal);

  // Close modal when clicking outside
  document.getElementById("modalOverlay").addEventListener("click", (event) => {
    if (event.target === document.getElementById("modalOverlay")) {
      closeProjectModal();
    }
  });

  // Close modal with Escape key
  document.addEventListener("keydown", (event) => {
    if (
      event.key === "Escape" &&
      document.getElementById("modalOverlay").classList.contains("active")
    ) {
      closeProjectModal();
    }
  });
});
